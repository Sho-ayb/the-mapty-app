/*! For license information please see bundle.ffbfa4517674971f18f6.js.LICENSE.txt */
/******/(()=>{// webpackBootstrap
/******/"use strict";
/******/ // The require scope
/******/var t={
/******/p:"./"};
/******/
/************************************************************************/
/******/ /* webpack/runtime/publicPath */
/******/ // CONCATENATED MODULE: ./src/assets/img/logo.png
t.p;
// importing the style file
function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,r,n){var o;return o=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(r,"string"),(r="symbol"==e(o)?o:o+"")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return r};var t,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),c=new A(n||[]);return i(a,"_invoke",{value:j(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=p;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function w(){}function _(){}function b(){}var k={};f(k,u,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(G([])));S&&S!==n&&o.call(S,u)&&(k=S);var E=b.prototype=w.prototype=Object.create(k);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==e(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):r.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,e){function o(){return new r((function(r,o){n(t,e,r,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var s=d(e,r,n);if("normal"===s.type){if(o=n.done?y:v,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function G(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return _.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,f(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},r.awrap=function(t){return{__await:t}},O(x.prototype),f(x.prototype,s,(function(){return this})),r.AsyncIterator=x,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new x(p(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=G,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}function u(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,c,"next",t)}function c(t){u(i,n,o,a,c,"throw",t)}a(void 0)}))}}
// importing images
/*


* We will diverge from Jonas implementation using class based programming paradigm to a functional programming paradigm and make it all work. 

* Afterwards we will refactor all the code in to Jonas class based paradigm, so that we can see the similarities and differences in both project structures.


*/
// Globals for form inputs
var l,f,p=document.querySelector(".form__container"),d=document.querySelector(".form"),h=document.querySelector(".workouts__container"),v=document.querySelector(".workouts"),m=document.querySelector(".form__input--type"),y=document.querySelector(".form__input--distance"),g=document.querySelector(".form__input--duration"),w=document.querySelector(".form__input--cadence"),_=document.querySelector(".form__input--elevation"),b=function(t){
// private variables
var e,r,n=new Map,o=function(){var t=s(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0://  returning a promise object to the function
// if success
return e=function(t){var e=t.coords;return[e.latitude,e.longitude]},// if error
r=function(t){throw new Error("ERROR(".concat(t.code,": ").concat(t.message,")"))},t.abrupt("return",new Promise((function(t,n){
// navigator.geolocation should be supported by the browser
navigator.geolocation?
// this api has a getCurrentPosition method that takes in two arguments: a success and error
navigator.geolocation.getCurrentPosition((function(r){return t(e(r))}),(function(t){n(r(t))})):n(r("Geolocation is not supported by your browser."))})));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(t){var r=n.get(t);r&&(e.removeLayer(r),n.delete(t))};return{getGeoCoords:o,renderMap:function(t){
// L is a global namespace that leaflet provides
e=L.map("map").setView(t,13),L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e)},mapOnClick:function(t){
// The above renderMap function instantiates a map object in which there is event objects such as the listener function
e.on("click",(function(e){var n,o;
// reassign to mapEvent
r=e,console.log(r),
//  invoke the function to pass in the latlng object
n=r.latlng,(o=[n.lat,n.lng])&&t(o)}))},mapMarker:function(t,r){if(!e)throw new Error("Map not initialized");try{var o=L.marker(t);o.addTo(e);var i=L.popup({maxWidth:300,minWidth:100,autoClose:!1,closeOnClick:!1,className:"".concat(r.type,"-popup")});return o.bindPopup(i),o.setPopupContent(r.description),o.openPopup(),
// A weakmap has been initialised as private variable
n.set(r.id,o),o}catch(t){throw new Error("ERROR(".concat(t.code,": ").concat(t.message,")"))}},removeMapMarker:i,showForm:function(){p.classList.remove("form__hide"),d.classList.add("active"),d.classList.remove("visually-hide"),h.classList.add("form__not-hidden")},hideForm:function(){p.classList.remove("form__hide"),d.classList.remove("active"),d.classList.add("visually-hide"),h.classList.remove("form__not-hidden")},renderWorkout:function(e){var r=document.querySelector(".workouts"),n='\n    <li class="workout workout--'.concat(e.type,' [ grid-workout ]" data-id=').concat(e.id,'>\n    <div class="workout__trash">\n    <i class=\'bx bx-trash\'></i>\n    </div>\n    <h2 class="workout__title">').concat(e.description,'</h2>\n    <div class="workout__details">\n      <span class="workout__icon">').concat("running"===e.type?"🏃‍♂️":"🚴‍♂️",'</span>\n      <span class="workout__value">').concat(e.distance,'</span>\n      <span class="workout__unit">km</span>\n    </div>\n    <div class="workout__details">\n      <span class="workout__icon">🕑</span>\n      <span class="workout__value">').concat(e.duration,'</span>\n      <span class="workout__unit">min</span>\n    </div>\n    \n    ');"running"===e.type&&(n+='\n      \n\n      <div class="workout__details">\n              <span class="workout__icon">⚡</span>\n              <span class="workout__value">'.concat(e.pace.toFixed(1),'</span>\n              <span class="workout__unit">min/km</span>\n            </div>\n            <div class="workout__details">\n              <span class="workout__icon">🦶</span>\n              <span class="workout__value">').concat(e.cadence,'</span>\n              <span class="workout__unit">spm</span>\n            </div>\n      \n      ')),"cycling"===e.type&&(n+='\n        \n        <div class="workout__details">\n        <span class="workout__icon">⚡</span>\n        <span class="workout__value">'.concat(e.speed,'</span>\n        <span class="workout__unit">min/km</span>\n      </div>\n      <div class="workout__details">\n        <span class="workout__icon">🗻</span>\n        <span class="workout__value">').concat(e.elevationGain,'</span>\n        <span class="workout__unit">m</span>\n      </div>\n\n      ')),r.insertAdjacentHTML("beforeend",n),
// The callback function passed to this function will be executed when a workout is rendered
t(i)},moveToPopup:function(t,r){var n=r.find((function(e){return e.id===t}));e.setView(n.coords,13,{animate:!0,pan:{duration:1}})}}},k=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){
// gaurd clause to check for null value
t&&(t.value="")}))},S=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.every((function(t){return Number.isFinite(t)}))},E=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.every((function(t){return t>0}))},O=function(t,e,r,n,o){if("running"===t){if(!S(e,r,n)||!E(e,r,n))throw new Error("Inputs for running must be positive numbers!")}else if("cycling"===t&&!S(e,r,o)&&!E(e,r))throw new Error("Inputs for distance and duration must be positive numbers!")},x=function(t){var e=document.getElementById("modal"),r=document.querySelector(".modal__close"),n=document.querySelector(".modal__message");e.classList.remove("hidden"),d.classList.add("visually-hide"),n.textContent=t,r.onclick=function(){e.classList.add("hidden")},window.onclick=function(){e.classList.add("hidden")}},j=(l=[],{addWorkout:function(t){l=[].concat(r(l),[t])},saveToLocalStorage:f=function(){localStorage.setItem("workouts",JSON.stringify(l))},getFromLocalStorage:function(){var t=JSON.parse(localStorage.getItem("workouts"))||[];t&&(l=t)},deleteFromLocalStorage:function(t){var e=t.dataset.id,r=l.filter((function(t){return t.id!==e}));l=r,f()},removeWorkoutFromDom:function(t){t.remove()},getWorkouts:function(){return l}}),P=function(t,e,r){t.preventDefault();var n=new FormData(t.target),o=n.get("type"),a=Number(n.get("distance")),c=Number(n.get("duration")),u=Number(n.get("cadence")),s=Number(n.get("elev-gain"));console.log(o,a,c,u,s);try{"running"===o?O(o,a,c,u):"cycling"===o&&O(o,a,c,s);
// Create a date for the new workout
var l=function(t,e,r,n,o,a,c){var u=["January","February","March","April","May","June","July","August","September","October","November","December"],s={type:t,distance:e,duration:r,date:a,coords:c,id:"",description:"",pace:"",speed:"",elevationGain:"",setDescription:function(){this.description="".concat(this.type.charAt(0).toUpperCase()).concat(this.type.slice(1)," on ").concat(this.date.getDate()," ").concat(u[this.date.getMonth()]," ").concat(this.date.getFullYear())},calcPace:function(){return this.pace=this.duration/this.distance,this.pace},calcSpeed:function(){return this.speed=this.distance/(this.duration/60),this.speed},calcElevationGain:function(){return this.elevationGain=o,this.elevationGain},createId:function(){return this.id=this.date.toISOString().slice(-13,-1).split(":").join("").split(".").join(""),this.id}};return"running"===t&&(s.createId(),s.setDescription(),s.calcPace(),s=i(i({},s),{},{cadence:n})),"cycling"===t&&(s.createId(),s.setDescription(),s.calcSpeed(),s.calcElevationGain(),s=i(i({},s),{},{elevation:o})),s}(o,a,c,u,s,new Date,e);console.log(l),j.addWorkout(l),j.saveToLocalStorage();var f=e;r.renderWorkout(l),r.mapMarker(f,l),r.hideForm(),k(y,g,w,_)}catch(t){x(t.message),k(y,g,w,_)}},F=function(t,e,r){P(t,e,r)},N=function(t){var e=document.querySelectorAll(".workout__trash > i.bx.bx-trash");console.log(e),e&&e.forEach((function(e){e.addEventListener("click",(function(r){r.stopPropagation(),// prevents the event from bubbling up to the parent element
console.log(e.closest(".workout"));var n=e.closest(".workout"),o=n.dataset.id;j.deleteFromLocalStorage(n),j.removeWorkoutFromDom(n),t(o)}))}))},A=function(t,e){var r=t.target.closest(".workout");
// gaurd clause
if(r){var n=r.dataset.id,o=j.getWorkouts();e.moveToPopup(n,o)}};(function(){var t=s(c().mark((function t(){var e,r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:
// Creating an instance of the app function that returns an object with all the methods and properties
return e=b((function(t){
// a callback function here to pass in the removeMapMarker function to handleTrashbinListener function
N(t)})),// Lets wrap the rest of the code within a try catch block, to await the Promise object to either resolve or reject
t.prev=1,t.next=4,e.getGeoCoords();case 4:r=t.sent,e.renderMap(r),
// Listening to the workout list element; when user clicks a workout in the list, map will be repositioned to the map marker
v.addEventListener("click",(function(t){return A(t,e)})),
// Listening to the map element; when the user clicks on the map, the form will be shown: this is a callback function, whene triggered the newCoords will be passed as an argument to the mapOnClick function
e.mapOnClick((function(t){
// show the form when the user clicks on the map
e.showForm(),m.addEventListener("change",(function(){var t=m.value;"running"===t&&(w.parentElement.classList.remove("hidden"),_.parentElement.classList.add("hidden")),"cycling"===t&&(w.parentElement.classList.add("hidden"),_.parentElement.classList.remove("hidden"))})),
//  the option once:true ensures that the event listener is immediately removed once added
d.addEventListener("submit",(function(r){return F(r,t,e)}),{once:!0})})),
// Workouts in localStorage will be retrieved and rendered again on the map, when the browser is reloaded. This needs to be done after the map is rendered and before the mapOnClick function is called.
j.getFromLocalStorage(),(n=j.getWorkouts()).length>0&&n.forEach((function(t){e.renderWorkout(t),e.mapMarker(t.coords,t)})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),x(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}})()()})
/******/();
//# sourceMappingURL=bundle.ffbfa4517674971f18f6.js.map